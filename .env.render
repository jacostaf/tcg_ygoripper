# Render Environment Variables for 512MB/.5 CPU Instance
# Copy these to your Render dashboard environment variables

# MongoDB Configuration
MONGODB_CONNECTION_STRING=mongodb+srv://your-connection-string

# Browser Strategy Configuration
BROWSER_STRATEGY=optimized              # Use memory-aware optimized pool
PLAYWRIGHT_POOL_SIZE=1                  # Start with 1 browser
MEMORY_LIMIT_MB=512                     # Total memory available

# Playwright Configuration
PLAYWRIGHT_HEADLESS=true                # Always true for servers
PLAYWRIGHT_BROWSERS_PATH=/opt/render/project/.playwright
PLAYWRIGHT_MAX_USES_PER_BROWSER=50      # Recycle browser after 50 uses

# Timeout Configuration (10 minutes minimum as requested)
PLAYWRIGHT_PAGE_TIMEOUT_MS=600000       # 10 minutes for page operations
PLAYWRIGHT_NAVIGATION_TIMEOUT_MS=600000 # 10 minutes for navigation
PLAYWRIGHT_DEFAULT_TIMEOUT_MS=600000    # 10 minutes default timeout

# API Configuration
PRICE_CACHE_DURATION_HOURS=24           # Cache duration
PRICE_CACHE_COLLECTION=YGO_CARD_VARIANT_PRICE_CACHE_V1

# Server Configuration
HYPERCORN_WORKERS=1                     # Keep at 1 for async
HYPERCORN_THREADS=2                     # Reduced thread count for memory
PORT=10000                              # Render will set this automatically

# Memory Management
MEM_LIMIT=512                           # Memory limit for memory manager
MEMORY_WARNING_THRESHOLD=0.7            # Warn at 70% memory usage
MEMORY_CRITICAL_THRESHOLD=0.85          # Critical at 85% memory usage

# Logging
LOG_LEVEL=INFO                          # Set to DEBUG for troubleshooting

# Optional Performance Tuning
TCGPLAYER_MAX_PREFERRED_RESULTS=25      # Reduce search results for faster processing
TCGPLAYER_MAX_ACCEPTABLE_RESULTS=100    # Limit total results
API_RATE_LIMIT_DELAY=0.2                # Slightly increase delay between API calls

# Render Platform Indicator
RENDER=1                                # Indicates running on Render platform