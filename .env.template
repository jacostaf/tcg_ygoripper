# TCGcsv Implementation Configuration Template
# Copy this file to .env and fill in your values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Server Configuration
PORT=8081
DEBUG=true
LOG_LEVEL=INFO

# Environment (development, staging, production)
ENVIRONMENT=development

# =============================================================================
# TCGCSV CONFIGURATION
# =============================================================================

# TCGcsv Base URL (should not need to change)
TCGCSV_BASE_URL=https://tcgcsv.com

# Yu-Gi-Oh Category ID on TCGPlayer/TCGcsv (should not need to change)
YUGIOH_CATEGORY_ID=2

# Cache Configuration (in-memory only, no MongoDB)
CACHE_EXPIRY_HOURS=24
CACHE_MAX_SIZE_MB=100

# Data refresh settings
AUTO_REFRESH_ENABLED=true
REFRESH_CHECK_INTERVAL_HOURS=6
FORCE_REFRESH_ON_STARTUP=false

# =============================================================================
# CARD IMAGE CONFIGURATION
# =============================================================================

# Primary image source - TCGcsv provides TCGPlayer CDN URLs
USE_TCGCSV_IMAGES=true

# Fallback image sources
ENABLE_YGOPRODECK_IMAGE_FALLBACK=true
YGOPRODECK_IMAGE_BASE_URL=https://images.ygoprodeck.com/images/cards

# Image caching
IMAGE_CACHE_ENABLED=true
IMAGE_CACHE_DURATION_HOURS=168  # 1 week
IMAGE_PROXY_ENABLED=false

# =============================================================================
# RATE LIMITING & PERFORMANCE
# =============================================================================

# Rate limiting for API requests
API_RATE_LIMIT_PER_MINUTE=60
API_RATE_LIMIT_BURST=10

# Download settings for TCGcsv files
DOWNLOAD_TIMEOUT_SECONDS=300
DOWNLOAD_RETRY_ATTEMPTS=3
DOWNLOAD_RETRY_DELAY_SECONDS=5

# Concurrent processing limits
MAX_CONCURRENT_DOWNLOADS=5
BATCH_PROCESSING_SIZE=1000

# =============================================================================
# CORS & SECURITY
# =============================================================================

# CORS settings for frontend
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# Security headers
ENABLE_SECURITY_HEADERS=true

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Logging configuration
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/app.log
LOG_MAX_FILE_SIZE_MB=10
LOG_BACKUP_COUNT=5

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD_MS=1000

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30

# =============================================================================
# CARD DATA PROCESSING
# =============================================================================

# Set filtering
EXCLUDE_PROMOTIONAL_SETS=false
EXCLUDE_TOURNAMENT_PACKS=false
MIN_CARDS_PER_SET=1

# Card filtering
EXCLUDE_SEALED_PRODUCTS=true
EXCLUDE_ACCESSORIES=true
INCLUDE_VARIANT_ARTS=true

# Rarity mapping
NORMALIZE_RARITY_NAMES=true
CUSTOM_RARITY_MAPPINGS={"Secret Rare": "Secret", "Ultra Rare": "Ultra"}

# =============================================================================
# PRICE DATA CONFIGURATION
# =============================================================================

# Price data settings
INCLUDE_PRICE_DATA=true
PRICE_CACHE_DURATION_HOURS=24

# Price filtering
MIN_PRICE_THRESHOLD=0.01
MAX_PRICE_THRESHOLD=10000.00
EXCLUDE_NO_PRICE_CARDS=false

# Market price calculation
USE_MARKET_PRICE_AS_PRIMARY=true
FALLBACK_TO_MIDPRICE=true

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development settings
ENABLE_DEBUG_ENDPOINTS=true
MOCK_TCGCSV_DATA=false
MOCK_DATA_PATH=./test_data/

# Testing
PYTEST_CACHE_DISABLE=false
TEST_TIMEOUT_SECONDS=30

# Memory management
MEMORY_LIMIT_MB=512
MEMORY_WARNING_THRESHOLD=0.8
MEMORY_CRITICAL_THRESHOLD=0.9
GC_COLLECTION_THRESHOLD=100

# =============================================================================
# OPTIONAL INTEGRATIONS
# =============================================================================

# YGOProdeck fallback for missing card data
ENABLE_YGOPRODECK_FALLBACK=false
YGOPRODECK_API_BASE_URL=https://db.ygoprodeck.com/api/v7

# Card name normalization service
ENABLE_CARD_NAME_FUZZY_MATCHING=true
FUZZY_MATCH_THRESHOLD=0.8

# =============================================================================
# BACKUP & PERSISTENCE
# =============================================================================

# Since we're not using MongoDB, we can optionally save data to disk
ENABLE_DISK_PERSISTENCE=true
DATA_STORAGE_PATH=./data/
BACKUP_INTERVAL_HOURS=24
MAX_BACKUP_FILES=7

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# New features that can be toggled
ENABLE_ADVANCED_SEARCH=true
ENABLE_SET_STATISTICS=true
ENABLE_CARD_RECOMMENDATIONS=false
ENABLE_PRICE_HISTORY=false
ENABLE_BULK_OPERATIONS=true